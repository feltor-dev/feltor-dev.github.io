<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Extension: ExBLAS: exblas Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="menubar.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <!--My own title area-->
  <ul class="menubar">
      <!-- <li><a href="../../../index.html">/</a><li>-->
    <li><a href="../../dg/html/modules.html">dG</a></li>
    <li><a href="../../geometries/html/modules.html">geometries</a></li>
    <li><a href="../../file/html/namespacefile.html">file</a></li>
    <li><a href="../../exblas/html/namespaceexblas.html">exblas</a></li>
  </ul>
  <!--End My own title area-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Extension: ExBLAS
   </div>
   <div id="projectbrief">Adaption of the exblas library (included in &quot;dg/algorithm.h&quot;)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">exblas Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the namespace for all functions and classes defined and used in the exblas library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceexblas_1_1cpu"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceexblas_1_1cpu.html">cpu</a></td></tr>
<tr class="memdesc:namespaceexblas_1_1cpu"><td class="mdescLeft">&#160;</td><td class="mdescRight">cpu versions of the primitive functions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceexblas_1_1gpu"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceexblas_1_1gpu.html">gpu</a></td></tr>
<tr class="memdesc:namespaceexblas_1_1gpu"><td class="mdescLeft">&#160;</td><td class="mdescRight">gpu (CUDA) versions of primitive functions <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adfc965cd8f0a664f66fee1753e524b72"><td class="memTemplParams" colspan="2">template&lt;class PointerOrValue1 , class PointerOrValue2 , size_t NBFPE = 3&gt; </td></tr>
<tr class="memitem:adfc965cd8f0a664f66fee1753e524b72"><td class="memTemplItemLeft" align="right" valign="top">__host__ void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#adfc965cd8f0a664f66fee1753e524b72">exdot_gpu</a> (unsigned size, PointerOrValue1 x1_ptr, PointerOrValue2 x2_ptr, int64_t *d_superacc)</td></tr>
<tr class="memdesc:adfc965cd8f0a664f66fee1753e524b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">gpu version of exact dot product  <a href="#adfc965cd8f0a664f66fee1753e524b72">More...</a><br /></td></tr>
<tr class="separator:adfc965cd8f0a664f66fee1753e524b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fdc2cf4450407b8159bc234fac52004"><td class="memTemplParams" colspan="2">template&lt;class PointerOrValue1 , class PointerOrValue2 , class PointerOrValue3 , size_t NBFPE = 3&gt; </td></tr>
<tr class="memitem:a0fdc2cf4450407b8159bc234fac52004"><td class="memTemplItemLeft" align="right" valign="top">__host__ void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#a0fdc2cf4450407b8159bc234fac52004">exdot_gpu</a> (unsigned size, PointerOrValue1 x1_ptr, PointerOrValue2 x2_ptr, PointerOrValue3 x3_ptr, int64_t *d_superacc)</td></tr>
<tr class="memdesc:a0fdc2cf4450407b8159bc234fac52004"><td class="mdescLeft">&#160;</td><td class="mdescRight">gpu version of exact triple dot product  <a href="#a0fdc2cf4450407b8159bc234fac52004">More...</a><br /></td></tr>
<tr class="separator:a0fdc2cf4450407b8159bc234fac52004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83939a86d028425bb1d38a22a331ec64"><td class="memTemplParams" colspan="2">template&lt;class PointerOrValue1 , class PointerOrValue2 , size_t NBFPE = 8&gt; </td></tr>
<tr class="memitem:a83939a86d028425bb1d38a22a331ec64"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#a83939a86d028425bb1d38a22a331ec64">exdot_omp</a> (unsigned size, PointerOrValue1 x1_ptr, PointerOrValue2 x2_ptr, int64_t *h_superacc)</td></tr>
<tr class="memdesc:a83939a86d028425bb1d38a22a331ec64"><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenMP parallel version of exact dot product.  <a href="#a83939a86d028425bb1d38a22a331ec64">More...</a><br /></td></tr>
<tr class="separator:a83939a86d028425bb1d38a22a331ec64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f168ffff8cb2ac645caa4ecae004f99"><td class="memTemplParams" colspan="2">template&lt;class PointerOrValue1 , class PointerOrValue2 , class PointerOrValue3 , size_t NBFPE = 8&gt; </td></tr>
<tr class="memitem:a5f168ffff8cb2ac645caa4ecae004f99"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#a5f168ffff8cb2ac645caa4ecae004f99">exdot_omp</a> (unsigned size, PointerOrValue1 x1_ptr, PointerOrValue2 x2_ptr, PointerOrValue3 x3_ptr, int64_t *h_superacc)</td></tr>
<tr class="memdesc:a5f168ffff8cb2ac645caa4ecae004f99"><td class="mdescLeft">&#160;</td><td class="mdescRight">OpenMP parallel version of exact triple dot product.  <a href="#a5f168ffff8cb2ac645caa4ecae004f99">More...</a><br /></td></tr>
<tr class="separator:a5f168ffff8cb2ac645caa4ecae004f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ac3f6a557ba58156bb5d3d02b41758"><td class="memTemplParams" colspan="2">template&lt;class PointerOrValue1 , class PointerOrValue2 , size_t NBFPE = 8&gt; </td></tr>
<tr class="memitem:af9ac3f6a557ba58156bb5d3d02b41758"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#af9ac3f6a557ba58156bb5d3d02b41758">exdot_cpu</a> (unsigned size, PointerOrValue1 x1_ptr, PointerOrValue2 x2_ptr, int64_t *h_superacc)</td></tr>
<tr class="memdesc:af9ac3f6a557ba58156bb5d3d02b41758"><td class="mdescLeft">&#160;</td><td class="mdescRight">serial version of exact dot product  <a href="#af9ac3f6a557ba58156bb5d3d02b41758">More...</a><br /></td></tr>
<tr class="separator:af9ac3f6a557ba58156bb5d3d02b41758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbdfda94daaec2915cbdf9a080a8dfc"><td class="memTemplParams" colspan="2">template&lt;class PointerOrValue1 , class PointerOrValue2 , class PointerOrValue3 , size_t NBFPE = 8&gt; </td></tr>
<tr class="memitem:a3dbdfda94daaec2915cbdf9a080a8dfc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#a3dbdfda94daaec2915cbdf9a080a8dfc">exdot_cpu</a> (unsigned size, PointerOrValue1 x1_ptr, PointerOrValue2 x2_ptr, PointerOrValue3 x3_ptr, int64_t *h_superacc)</td></tr>
<tr class="memdesc:a3dbdfda94daaec2915cbdf9a080a8dfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">gpu version of exact triple dot product  <a href="#a3dbdfda94daaec2915cbdf9a080a8dfc">More...</a><br /></td></tr>
<tr class="separator:a3dbdfda94daaec2915cbdf9a080a8dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b5cd15f02ce8ac7c0a18d7a0691c2e8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#a0b5cd15f02ce8ac7c0a18d7a0691c2e8">mpi_reduce_communicator</a> (MPI_Comm comm, MPI_Comm *comm_mod, MPI_Comm *comm_mod_reduce)</td></tr>
<tr class="memdesc:a0b5cd15f02ce8ac7c0a18d7a0691c2e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function can be used to partition communicators for the <code><a class="el" href="namespaceexblas.html#ab4c1247c02e14edcae026d41b3f5c6fb" title="reduce a number of superaccumulators distributed among mpi processes ">exblas::reduce_mpi_cpu</a></code> function.  <a href="#a0b5cd15f02ce8ac7c0a18d7a0691c2e8">More...</a><br /></td></tr>
<tr class="separator:a0b5cd15f02ce8ac7c0a18d7a0691c2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c1247c02e14edcae026d41b3f5c6fb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceexblas.html#ab4c1247c02e14edcae026d41b3f5c6fb">reduce_mpi_cpu</a> (unsigned num_superacc, int64_t *in, int64_t *out, MPI_Comm comm, MPI_Comm comm_mod, MPI_Comm comm_mod_reduce)</td></tr>
<tr class="memdesc:ab4c1247c02e14edcae026d41b3f5c6fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">reduce a number of superaccumulators distributed among mpi processes  <a href="#ab4c1247c02e14edcae026d41b3f5c6fb">More...</a><br /></td></tr>
<tr class="separator:ab4c1247c02e14edcae026d41b3f5c6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the namespace for all functions and classes defined and used in the exblas library. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af9ac3f6a557ba58156bb5d3d02b41758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ac3f6a557ba58156bb5d3d02b41758">&#9670;&nbsp;</a></span>exdot_cpu() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PointerOrValue1 , class PointerOrValue2 , size_t NBFPE = 8&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void exblas::exdot_cpu </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue1&#160;</td>
          <td class="paramname"><em>x1_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue2&#160;</td>
          <td class="paramname"><em>x2_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>h_superacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>serial version of exact dot product </p>
<p>Computes the exact sum </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i=0}^{N-1} x_i y_i \]" src="form_0.png"/>
</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NBFPE</td><td>size of the floating point expansion (should be between 3 and 8) </td></tr>
    <tr><td class="paramname">PointerOrValue</td><td>must be one of <code> T, T&amp;&amp;, T&amp;, const T&amp;, T* or const T* </code>, where <code>T</code> is either <code>float</code> or <code>double</code>. If it is a pointer type, then we iterate through the pointed data from 0 to <code>size</code>, else we consider the value constant in every iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size N of the arrays to sum </td></tr>
    <tr><td class="paramname">x1_ptr</td><td>first array </td></tr>
    <tr><td class="paramname">x2_ptr</td><td>second array </td></tr>
    <tr><td class="paramname">h_superacc</td><td>pointer to an array of 64 bit integers (the superaccumulator) in host memory with size at least <code>exblas::BIN_COUNT</code> (39) (contents are overwritten) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas_1_1cpu.html#ac16158f26c0ea9b96fea9cfacf870f53" title="Convert a superaccumulator to the nearest double precision number (CPU version) ">exblas::cpu::Round</a></code> to convert the superaccumulator into a double precision number </dd></dl>

</div>
</div>
<a id="a3dbdfda94daaec2915cbdf9a080a8dfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dbdfda94daaec2915cbdf9a080a8dfc">&#9670;&nbsp;</a></span>exdot_cpu() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PointerOrValue1 , class PointerOrValue2 , class PointerOrValue3 , size_t NBFPE = 8&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void exblas::exdot_cpu </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue1&#160;</td>
          <td class="paramname"><em>x1_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue2&#160;</td>
          <td class="paramname"><em>x2_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue3&#160;</td>
          <td class="paramname"><em>x3_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>h_superacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gpu version of exact triple dot product </p>
<p>Computes the exact sum </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i=0}^{N-1} x_i w_i y_i \]" src="form_1.png"/>
</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NBFPE</td><td>size of the floating point expansion (should be between 3 and 8) </td></tr>
    <tr><td class="paramname">PointerOrValue</td><td>must be one of <code> T, T&amp;&amp;, T&amp;, const T&amp;, T* or const T* </code>, where <code>T</code> is either <code>float</code> or <code>double</code>. If it is a pointer type, then we iterate through the pointed data from 0 to <code>size</code>, else we consider the value constant in every iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size N of the arrays to sum </td></tr>
    <tr><td class="paramname">x1_ptr</td><td>first array </td></tr>
    <tr><td class="paramname">x2_ptr</td><td>second array </td></tr>
    <tr><td class="paramname">x3_ptr</td><td>third array </td></tr>
    <tr><td class="paramname">h_superacc</td><td>pointer to an array of 64 bit integegers (the superaccumulator) in host memory with size at least <code>exblas::BIN_COUNT</code> (39) (contents are overwritten) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas_1_1cpu.html#ac16158f26c0ea9b96fea9cfacf870f53" title="Convert a superaccumulator to the nearest double precision number (CPU version) ">exblas::cpu::Round</a></code> to convert the superaccumulator into a double precision number </dd></dl>

</div>
</div>
<a id="adfc965cd8f0a664f66fee1753e524b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc965cd8f0a664f66fee1753e524b72">&#9670;&nbsp;</a></span>exdot_gpu() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PointerOrValue1 , class PointerOrValue2 , size_t NBFPE = 3&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">__host__ void exblas::exdot_gpu </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue1&#160;</td>
          <td class="paramname"><em>x1_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue2&#160;</td>
          <td class="paramname"><em>x2_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>d_superacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gpu version of exact dot product </p>
<p>Computes the exact sum </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i=0}^{N-1} x_i y_i \]" src="form_0.png"/>
</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NBFPE</td><td>size of the floating point expansion (should be between 3 and 8) </td></tr>
    <tr><td class="paramname">PointerOrValue</td><td>must be one of <code> T, T&amp;&amp;, T&amp;, const T&amp;, T* or const T* </code>, where <code>T</code> is either <code>float</code> or <code>double</code>. If it is a pointer type, then we iterate through the pointed data from 0 to <code>size</code>, else we consider the value constant in every iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size N of the arrays to sum </td></tr>
    <tr><td class="paramname">x1_ptr</td><td>first array </td></tr>
    <tr><td class="paramname">x2_ptr</td><td>second array </td></tr>
    <tr><td class="paramname">d_superacc</td><td>pointer to an array of 64 bit integers (the superaccumulator) in device memory with size at least <code>exblas::BIN_COUNT</code> (39) (contents are overwritten) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas_1_1gpu.html#acac8b5b8de3efcbb2af28ea75c7aaaf4" title="Convert a superaccumulator to the nearest double precision number (GPU version) ">exblas::gpu::Round</a></code> to convert the superaccumulator into a double precision number </dd></dl>

</div>
</div>
<a id="a0fdc2cf4450407b8159bc234fac52004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fdc2cf4450407b8159bc234fac52004">&#9670;&nbsp;</a></span>exdot_gpu() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PointerOrValue1 , class PointerOrValue2 , class PointerOrValue3 , size_t NBFPE = 3&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">__host__ void exblas::exdot_gpu </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue1&#160;</td>
          <td class="paramname"><em>x1_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue2&#160;</td>
          <td class="paramname"><em>x2_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue3&#160;</td>
          <td class="paramname"><em>x3_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>d_superacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gpu version of exact triple dot product </p>
<p>Computes the exact sum </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i=0}^{N-1} x_i w_i y_i \]" src="form_1.png"/>
</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NBFPE</td><td>size of the floating point expansion (should be between 3 and 8) </td></tr>
    <tr><td class="paramname">PointerOrValue</td><td>must be one of <code> T, T&amp;&amp;, T&amp;, const T&amp;, T* or const T* </code>, where <code>T</code> is either <code>float</code> or <code>double</code>. If it is a pointer type, then we iterate through the pointed data from 0 to <code>size</code>, else we consider the value constant in every iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size N of the arrays to sum </td></tr>
    <tr><td class="paramname">x1_ptr</td><td>first array </td></tr>
    <tr><td class="paramname">x2_ptr</td><td>second array </td></tr>
    <tr><td class="paramname">x3_ptr</td><td>third array </td></tr>
    <tr><td class="paramname">d_superacc</td><td>pointer to an array of 64 bit integegers (the superaccumulator) in device memory with size at least <code>exblas::BIN_COUNT</code> (39) (contents are overwritten) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas_1_1gpu.html#acac8b5b8de3efcbb2af28ea75c7aaaf4" title="Convert a superaccumulator to the nearest double precision number (GPU version) ">exblas::gpu::Round</a></code> to convert the superaccumulator into a double precision number </dd></dl>

</div>
</div>
<a id="a83939a86d028425bb1d38a22a331ec64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83939a86d028425bb1d38a22a331ec64">&#9670;&nbsp;</a></span>exdot_omp() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PointerOrValue1 , class PointerOrValue2 , size_t NBFPE = 8&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void exblas::exdot_omp </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue1&#160;</td>
          <td class="paramname"><em>x1_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue2&#160;</td>
          <td class="paramname"><em>x2_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>h_superacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OpenMP parallel version of exact dot product. </p>
<p>Computes the exact sum </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i=0}^{N-1} x_i y_i \]" src="form_0.png"/>
</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NBFPE</td><td>size of the floating point expansion (should be between 3 and 8) </td></tr>
    <tr><td class="paramname">PointerOrValue</td><td>must be one of <code> T, T&amp;&amp;, T&amp;, const T&amp;, T* or const T* </code>, where <code>T</code> is either <code>float</code> or <code>double</code>. If it is a pointer type, then we iterate through the pointed data from 0 to <code>size</code>, else we consider the value constant in every iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size N of the arrays to sum </td></tr>
    <tr><td class="paramname">x1_ptr</td><td>first array </td></tr>
    <tr><td class="paramname">x2_ptr</td><td>second array </td></tr>
    <tr><td class="paramname">h_superacc</td><td>pointer to an array of 64 bit integers (the superaccumulator) in host memory with size at least <code>exblas::BIN_COUNT</code> (39) (contents are overwritten) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas_1_1cpu.html#ac16158f26c0ea9b96fea9cfacf870f53" title="Convert a superaccumulator to the nearest double precision number (CPU version) ">exblas::cpu::Round</a></code> to convert the superaccumulator into a double precision number </dd></dl>

</div>
</div>
<a id="a5f168ffff8cb2ac645caa4ecae004f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f168ffff8cb2ac645caa4ecae004f99">&#9670;&nbsp;</a></span>exdot_omp() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PointerOrValue1 , class PointerOrValue2 , class PointerOrValue3 , size_t NBFPE = 8&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void exblas::exdot_omp </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue1&#160;</td>
          <td class="paramname"><em>x1_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue2&#160;</td>
          <td class="paramname"><em>x2_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PointerOrValue3&#160;</td>
          <td class="paramname"><em>x3_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>h_superacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OpenMP parallel version of exact triple dot product. </p>
<p>Computes the exact sum </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sum_{i=0}^{N-1} x_i w_i y_i \]" src="form_1.png"/>
</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">NBFPE</td><td>size of the floating point expansion (should be between 3 and 8) </td></tr>
    <tr><td class="paramname">PointerOrValue</td><td>must be one of <code> T, T&amp;&amp;, T&amp;, const T&amp;, T* or const T* </code>, where <code>T</code> is either <code>float</code> or <code>double</code>. If it is a pointer type, then we iterate through the pointed data from 0 to <code>size</code>, else we consider the value constant in every iteration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>size N of the arrays to sum </td></tr>
    <tr><td class="paramname">x1_ptr</td><td>first array </td></tr>
    <tr><td class="paramname">x2_ptr</td><td>second array </td></tr>
    <tr><td class="paramname">x3_ptr</td><td>third array </td></tr>
    <tr><td class="paramname">h_superacc</td><td>pointer to an array of 64 bit integegers (the superaccumulator) in host memory with size at least <code>exblas::BIN_COUNT</code> (39) (contents are overwritten) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas_1_1cpu.html#ac16158f26c0ea9b96fea9cfacf870f53" title="Convert a superaccumulator to the nearest double precision number (CPU version) ">exblas::cpu::Round</a></code> to convert the superaccumulator into a double precision number </dd></dl>

</div>
</div>
<a id="a0b5cd15f02ce8ac7c0a18d7a0691c2e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b5cd15f02ce8ac7c0a18d7a0691c2e8">&#9670;&nbsp;</a></span>mpi_reduce_communicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void exblas::mpi_reduce_communicator </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm *&#160;</td>
          <td class="paramname"><em>comm_mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm *&#160;</td>
          <td class="paramname"><em>comm_mod_reduce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function can be used to partition communicators for the <code><a class="el" href="namespaceexblas.html#ab4c1247c02e14edcae026d41b3f5c6fb" title="reduce a number of superaccumulators distributed among mpi processes ">exblas::reduce_mpi_cpu</a></code> function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>the input communicator (unmodified, may not be <code>MPI_COMM_NULL</code>) </td></tr>
    <tr><td class="paramname">comm_mod</td><td>a subgroup of comm (comm is split) </td></tr>
    <tr><td class="paramname">comm_mod_reduce</td><td>a subgroup of comm, consists of all rank 0 processes in comm_mod </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the creation of new communicators involves communication between all participation processes (comm in this case) </dd></dl>

</div>
</div>
<a id="ab4c1247c02e14edcae026d41b3f5c6fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4c1247c02e14edcae026d41b3f5c6fb">&#9670;&nbsp;</a></span>reduce_mpi_cpu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void exblas::reduce_mpi_cpu </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num_superacc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm_mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm_mod_reduce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reduce a number of superaccumulators distributed among mpi processes </p>
<p>We cannot sum more than 256 accumulators before we need to normalize again, so we need to split the reduction into several steps if more than 256 processes are involved. This function normalizes, reduces, normalizes, reduces and broadcasts the result to all participating processes. As usual the resulting superaccumulator is unnormalized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_superacc</td><td>number of Superaccumulators eaach process holds </td></tr>
    <tr><td class="paramname">in</td><td>unnormalized input superaccumulators ( must be of size num_superacc*<code>exblas::BIN_COUNT</code>, allocated on the cpu) (read/write, undefined on out) </td></tr>
    <tr><td class="paramname">out</td><td>each process contains the result on output( must be of size num_superacc*<code>exblas::BIN_COUNT</code>, allocated on the cpu) (write, may not alias in) </td></tr>
    <tr><td class="paramname">comm</td><td>The complete MPI communicator </td></tr>
    <tr><td class="paramname">comm_mod</td><td>This is comm modulo 128 ( or any other number &lt;256) </td></tr>
    <tr><td class="paramname">comm_mod_reduce</td><td>This is the communicator consisting of all rank 0 processes in comm_mod, may be <code>MPI_COMM_NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="namespaceexblas.html#a0b5cd15f02ce8ac7c0a18d7a0691c2e8" title="This function can be used to partition communicators for the exblas::reduce_mpi_cpu function...">exblas::mpi_reduce_communicator</a></code> to generate the required communicators </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
