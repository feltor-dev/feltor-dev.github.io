<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Extension: Geometries: 3.1 Creating a flux function</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?.../MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="menubar.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <!--My own title area-->
  <ul class="menubar">
      <!-- <li><a href="../../../index.html">/</a><li>-->
    <li><a href="../../dg/html/modules.html">dg</a></li>
    <li><a href="../../geometries/html/modules.html">dg::geo</a></li>
    <li><a href="../../file/html/modules.html">dg::file</a></li>
    <li><a href="../../exblas/html/namespacedg_1_1exblas.html">dg::exblas</a></li>
  </ul>
  <!--End My own title area-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Extension: Geometries
   </div>
   <div id="projectbrief">#include &quot;dg/geometries/geometries.h&quot;</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__geom.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">3.1 Creating a flux function<div class="ingroups"><a class="el" href="group__geom__functors.html">3. New functors surrounding the magnetic field geometry</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>\(\psi_p(R,Z)\) <a class="el" href="group__geom.html#gaa0da1d1c2db65f1f4b28d77307ad238b" title="Create a Magnetic field based on the given parameters.">dg::geo::createMagneticField</a>  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for 3.1 Creating a flux function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__geom.svg" width="602" height="414"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__solovev"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__solovev.html">The solovev expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__polynomial"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__polynomial.html">The polynomial expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__taylor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__taylor.html">The Taylor state expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__guenther"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__guenther.html">The Guenther expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__toroidal"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toroidal.html">The Purely Toroidal expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__circular"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__circular.html">The Circular expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__mod"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod.html">Modification of any expansion</a></td></tr>
<tr class="memdesc:group__mod"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( H(\psi_p(R,Z))\), <a class="el" href="group__wall.html#gac47e668c6483d6cebfc9d6c798737b58" title="Modify Magnetic Field above or below certain Psi values according to given parameters.">dg::geo::createModifiedField</a> <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__wall"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wall.html">Wall and Sheath</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa0da1d1c2db65f1f4b28d77307ad238b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structdg_1_1geo_1_1_tokamak_magnetic_field.html">TokamakMagneticField</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__geom.html#gaa0da1d1c2db65f1f4b28d77307ad238b">dg::geo::createMagneticField</a> (dg::file::WrappedJsonValue gs)</td></tr>
<tr class="memdesc:gaa0da1d1c2db65f1f4b28d77307ad238b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Magnetic field based on the given parameters.  <a href="group__geom.html#gaa0da1d1c2db65f1f4b28d77307ad238b">More...</a><br /></td></tr>
<tr class="separator:gaa0da1d1c2db65f1f4b28d77307ad238b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >\(\psi_p(R,Z)\) <a class="el" href="group__geom.html#gaa0da1d1c2db65f1f4b28d77307ad238b" title="Create a Magnetic field based on the given parameters.">dg::geo::createMagneticField</a> </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa0da1d1c2db65f1f4b28d77307ad238b" name="gaa0da1d1c2db65f1f4b28d77307ad238b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0da1d1c2db65f1f4b28d77307ad238b">&#9670;&nbsp;</a></span>createMagneticField()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdg_1_1geo_1_1_tokamak_magnetic_field.html">TokamakMagneticField</a> dg::geo::createMagneticField </td>
          <td>(</td>
          <td class="paramtype">dg::file::WrappedJsonValue&#160;</td>
          <td class="paramname"><em>gs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Magnetic field based on the given parameters. </p>
<p >This function abstracts the Magnetic field generation. It reads an input Json file that tells this function via the "equilibrium" parameter which field to generate and which parameters to expect in the file. See a list of possible combinations in the following</p>
<div class="fragment"><div class="line"><span class="comment">// Solovev (and Taylor) geometry parameters</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span>: <span class="stringliteral">&quot;solovev&quot;</span>,</div>
<div class="line">    <span class="comment">// Note that for the taylor field you need to include boost before the geometries header!</span></div>
<div class="line">    <span class="comment">// &quot;equilibrium&quot; : &quot;taylor&quot;,</span></div>
<div class="line">    <span class="stringliteral">&quot;A&quot;</span>: 0,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span>: 213.36,</div>
<div class="line">    <span class="stringliteral">&quot;PP&quot;</span>: 1,</div>
<div class="line">    <span class="stringliteral">&quot;PI&quot;</span>: 1,</div>
<div class="line">    <span class="stringliteral">&quot;c&quot;</span>:[</div>
<div class="line">        0.072597888572520090,</div>
<div class="line">        -0.14926096478076946,</div>
<div class="line">        <span class="comment">// ... 12 coefficients in total</span></div>
<div class="line">    ],</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span> : <span class="stringliteral">&quot;standardX&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;inverseaspectratio&quot;</span>: 0.3211009174311926,</div>
<div class="line">    <span class="stringliteral">&quot;triangularity&quot;</span>: 0.3,</div>
<div class="line">    <span class="stringliteral">&quot;elongation&quot;</span>: 1.44</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// Polynomial geometry parameters</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;polynomial&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;M&quot;</span> : 8,</div>
<div class="line">    <span class="stringliteral">&quot;N&quot;</span> : 8,</div>
<div class="line">    <span class="stringliteral">&quot;PI&quot;</span> : -1.0,</div>
<div class="line">    <span class="stringliteral">&quot;PP&quot;</span> : -1.0,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 906.38,</div>
<div class="line">    <span class="stringliteral">&quot;c&quot;</span> :</div>
<div class="line">    [</div>
<div class="line">        -0.96689843290517163,</div>
<div class="line">        3.0863312163153722,</div>
<div class="line">        <span class="comment">// ... M*N coefficients in total</span></div>
<div class="line">    ],</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span> : <span class="stringliteral">&quot;standardX&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;elongation&quot;</span> : 1.5,</div>
<div class="line">    <span class="stringliteral">&quot;inverseaspectratio&quot;</span> : 0.27593818984547458,</div>
<div class="line">    <span class="stringliteral">&quot;triangularity&quot;</span> : 0.40000000000000002</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// Purely toroidal magnetic field</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;toroidal&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 10</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Automatically chosen:</span></div>
<div class="line"><span class="comment">// description : &quot;none&quot;,</span></div>
<div class="line"><span class="comment">// a : 1.0,</span></div>
<div class="line"><span class="comment">// elongation : 1.0,</span></div>
<div class="line"><span class="comment">// triangularity : 0.0</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// Circular flux surfaces</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;circular&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;I_0&quot;</span> : 20,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 10</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Automatically chosen:</span></div>
<div class="line"><span class="comment">// description : &quot;standardO&quot;,</span></div>
<div class="line"><span class="comment">// a : 1.0,</span></div>
<div class="line"><span class="comment">// elongation : 1.0,</span></div>
<div class="line"><span class="comment">// triangularity : 0.0</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// The guenther magnetic field</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;guenther&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;I_0&quot;</span> : 20,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 10</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Automatically chosen:</span></div>
<div class="line"><span class="comment">// description : &quot;square&quot;,</span></div>
<div class="line"><span class="comment">// a : 1.0,</span></div>
<div class="line"><span class="comment">// elongation : 1.0,</span></div>
<div class="line"><span class="comment">// triangularity : 0.0</span></div>
</div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><code><a class="el" href="group__magnetic.html#gac077a0f92059114ad4973984de444db4" title="How flux function looks like. Decider on whether and what flux aligned grid to construct.">dg::geo::description</a></code> <a class="elRef" href="../../dg/html/group__time__utils.html#ga6da92394b084f50fdbfe42b13506ba40">to</a> see valid values for the description field</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gs</td><td>Has to contain "equilibrium" which is converted <code><a class="el" href="group__magnetic.html#gab39148d38eed4929633564c02238214d" title="How flux-function is computed. Decides how to construct magnetic field.">dg::geo::equilibrium</a></code>, i.e. "solovev", "polynomial", .... After that the respective parameters are created, for example if "solovev", then the <a class="el" href="structdg_1_1geo_1_1solovev_1_1_parameters.html" title="Constructs and display geometric parameters for the solovev and taylor fields.">dg::geo::solovev::Parameters( gs)</a> is called and forwarded to dg::geo::createSolovevField(gp); similar for the rest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A magnetic field object </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function is only defined if <code>json/json.h</code> is included before <code>dg/geometries/geometries.h</code> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jan 28 2022 17:46:32 for Extension: Geometries by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
