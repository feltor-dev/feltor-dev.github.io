<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>Discontinuous Galerkin Library: dg::GeneralComm&lt; Index, Vector &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?.../MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="menubar.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <!--My own title area-->
  <ul class="menubar">
      <!-- <li><a href="../../../index.html">/</a><li>-->
    <li><a href="../../dg/html/modules.html">dg</a></li>
    <li><a href="../../geometries/html/modules.html">dg::geo</a></li>
    <li><a href="../../file/html/modules.html">dg::file</a></li>
    <li><a href="../../exblas/html/namespacedg_1_1exblas.html">dg::exblas</a></li>
  </ul>
  <!--End My own title area-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Discontinuous Galerkin Library
   </div>
   <div id="projectbrief">Container free algorithms and discontinuous Galerkin numerical methods in &quot;dg/algorithm.h&quot;</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structdg_1_1_general_comm.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structdg_1_1_general_comm-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dg::GeneralComm&lt; Index, Vector &gt; Struct Template Reference<div class="ingroups"><a class="el" href="group__backend.html">Level 1: Vectors, Matrices and basic operations</a> &raquo; <a class="el" href="group__mpi__structures.html">MPI backend</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Perform general gather and its transpose (scatter) operation across processes on distributed vectors using mpi.  
 <a href="structdg_1_1_general_comm.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mpi__collective_8h_source.html">mpi_collective.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dg::GeneralComm&lt; Index, Vector &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="structdg_1_1_general_comm__inherit__graph.png" border="0" usemap="#dg_1_1_general_comm_3_01_index_00_01_vector_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="dg_1_1_general_comm_3_01_index_00_01_vector_01_4_inherit__map" id="dg_1_1_general_comm_3_01_index_00_01_vector_01_4_inherit__map">
<area shape="rect" title="Perform general gather and its transpose (scatter) operation across processes on distributed vectors ..." alt="" coords="5,95,200,136"/>
<area shape="rect" href="structdg_1_1a_communicator.html" title=" " alt="" coords="22,5,183,47"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acfa98a579feb3617ba5d532af58c3f8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#acfa98a579feb3617ba5d532af58c3f8f">GeneralComm</a> ()</td></tr>
<tr class="memdesc:acfa98a579feb3617ba5d532af58c3f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">no memory allocation; size 0  <a href="structdg_1_1_general_comm.html#acfa98a579feb3617ba5d532af58c3f8f">More...</a><br /></td></tr>
<tr class="separator:acfa98a579feb3617ba5d532af58c3f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91664bd2c22f4c02bfe53d080a85302c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#a91664bd2c22f4c02bfe53d080a85302c">GeneralComm</a> (unsigned <a class="el" href="structdg_1_1a_communicator.html#a190bc7d049ea3aaea0d1f50ff9f86f4b">local_size</a>, const thrust::host_vector&lt; int &gt; &amp;localGatherMap, const thrust::host_vector&lt; int &gt; &amp;pidGatherMap, MPI_Comm comm)</td></tr>
<tr class="memdesc:a91664bd2c22f4c02bfe53d080a85302c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from local indices and PIDs gather map.  <a href="structdg_1_1_general_comm.html#a91664bd2c22f4c02bfe53d080a85302c">More...</a><br /></td></tr>
<tr class="separator:a91664bd2c22f4c02bfe53d080a85302c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af818e3e49946b3eab5a26b0c51f42485"><td class="memTemplParams" colspan="2">template&lt;class OtherIndex , class OtherVector &gt; </td></tr>
<tr class="memitem:af818e3e49946b3eab5a26b0c51f42485"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#af818e3e49946b3eab5a26b0c51f42485">GeneralComm</a> (const <a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a>&lt; OtherIndex, OtherVector &gt; &amp;src)</td></tr>
<tr class="memdesc:af818e3e49946b3eab5a26b0c51f42485"><td class="mdescLeft">&#160;</td><td class="mdescRight">reconstruct from another type; if src is empty, same as default constructor  <a href="structdg_1_1_general_comm.html#af818e3e49946b3eab5a26b0c51f42485">More...</a><br /></td></tr>
<tr class="separator:af818e3e49946b3eab5a26b0c51f42485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1e0b2f8be42081cb0ab8a238ab9210"><td class="memTemplParams" colspan="2">template&lt;class ConversionPolicy &gt; </td></tr>
<tr class="memitem:a0f1e0b2f8be42081cb0ab8a238ab9210"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#a0f1e0b2f8be42081cb0ab8a238ab9210">GeneralComm</a> (const thrust::host_vector&lt; int &gt; &amp;globalGatherMap, const ConversionPolicy &amp;p)</td></tr>
<tr class="memdesc:a0f1e0b2f8be42081cb0ab8a238ab9210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from global indices gather map.  <a href="structdg_1_1_general_comm.html#a0f1e0b2f8be42081cb0ab8a238ab9210">More...</a><br /></td></tr>
<tr class="separator:a0f1e0b2f8be42081cb0ab8a238ab9210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b970ce2c1d2f139e9856d10875ab6a7"><td class="memItemLeft" align="right" valign="top">const thrust::host_vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#a4b970ce2c1d2f139e9856d10875ab6a7">getLocalGatherMap</a> () const</td></tr>
<tr class="memdesc:a4b970ce2c1d2f139e9856d10875ab6a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">read access to the local index gather map  <a href="structdg_1_1_general_comm.html#a4b970ce2c1d2f139e9856d10875ab6a7">More...</a><br /></td></tr>
<tr class="separator:a4b970ce2c1d2f139e9856d10875ab6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1c33b7e0fd56fc8de73e6d0c4390c1"><td class="memItemLeft" align="right" valign="top">const thrust::host_vector&lt; int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#a9e1c33b7e0fd56fc8de73e6d0c4390c1">getPidGatherMap</a> () const</td></tr>
<tr class="memdesc:a9e1c33b7e0fd56fc8de73e6d0c4390c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">read access to the pid gather map  <a href="structdg_1_1_general_comm.html#a9e1c33b7e0fd56fc8de73e6d0c4390c1">More...</a><br /></td></tr>
<tr class="separator:a9e1c33b7e0fd56fc8de73e6d0c4390c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54756d7f20d5c5e4aacb4bd0f5f060df"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1_general_comm.html#a54756d7f20d5c5e4aacb4bd0f5f060df">clone</a> () const override final</td></tr>
<tr class="separator:a54756d7f20d5c5e4aacb4bd0f5f060df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structdg_1_1a_communicator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structdg_1_1a_communicator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structdg_1_1a_communicator.html">dg::aCommunicator&lt; Vector &gt;</a></td></tr>
<tr class="memitem:a9a29bf560157c2d0a81d4ce96b1a0634 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">Vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a9a29bf560157c2d0a81d4ce96b1a0634">allocate_buffer</a> () const</td></tr>
<tr class="memdesc:a9a29bf560157c2d0a81d4ce96b1a0634 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a buffer object of size <code><a class="el" href="structdg_1_1a_communicator.html#a7c0b8733751b2b82449a54676e4f0397" title="The local size of the buffer vector w = local map size.">buffer_size()</a></code>  <a href="structdg_1_1a_communicator.html#a9a29bf560157c2d0a81d4ce96b1a0634">More...</a><br /></td></tr>
<tr class="separator:a9a29bf560157c2d0a81d4ce96b1a0634 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4afb767c3d62c1908eed2c4eb156a7 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a0d4afb767c3d62c1908eed2c4eb156a7">global_gather</a> (const <a class="el" href="structdg_1_1a_communicator.html#a6b3761c8938941ad409b0e5ae8f396ba">value_type</a> *values, Vector &amp;buffer) const</td></tr>
<tr class="memdesc:a0d4afb767c3d62c1908eed2c4eb156a7 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( w = G v\). Globally (across processes) gather data into a buffer  <a href="structdg_1_1a_communicator.html#a0d4afb767c3d62c1908eed2c4eb156a7">More...</a><br /></td></tr>
<tr class="separator:a0d4afb767c3d62c1908eed2c4eb156a7 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977b6a58f608dc19041bb2a1f310ba3a inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">Vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a977b6a58f608dc19041bb2a1f310ba3a">global_gather</a> (const <a class="el" href="structdg_1_1a_communicator.html#a6b3761c8938941ad409b0e5ae8f396ba">value_type</a> *values) const</td></tr>
<tr class="memdesc:a977b6a58f608dc19041bb2a1f310ba3a inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( w = G v\). Globally (across processes) gather data into a buffer (memory allocating version)  <a href="structdg_1_1a_communicator.html#a977b6a58f608dc19041bb2a1f310ba3a">More...</a><br /></td></tr>
<tr class="separator:a977b6a58f608dc19041bb2a1f310ba3a inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342c5ad30f218eb1e2588369aae72fd2 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a342c5ad30f218eb1e2588369aae72fd2">global_scatter_reduce</a> (const Vector &amp;toScatter, <a class="el" href="structdg_1_1a_communicator.html#a6b3761c8938941ad409b0e5ae8f396ba">value_type</a> *values) const</td></tr>
<tr class="memdesc:a342c5ad30f218eb1e2588369aae72fd2 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( v = G^\mathrm{T} w\). Globally (across processes) scatter data accross processes and reduce on multiple indices  <a href="structdg_1_1a_communicator.html#a342c5ad30f218eb1e2588369aae72fd2">More...</a><br /></td></tr>
<tr class="separator:a342c5ad30f218eb1e2588369aae72fd2 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0b8733751b2b82449a54676e4f0397 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a7c0b8733751b2b82449a54676e4f0397">buffer_size</a> () const</td></tr>
<tr class="memdesc:a7c0b8733751b2b82449a54676e4f0397 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">The local size of the buffer vector w = local map size.  <a href="structdg_1_1a_communicator.html#a7c0b8733751b2b82449a54676e4f0397">More...</a><br /></td></tr>
<tr class="separator:a7c0b8733751b2b82449a54676e4f0397 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190bc7d049ea3aaea0d1f50ff9f86f4b inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a190bc7d049ea3aaea0d1f50ff9f86f4b">local_size</a> () const</td></tr>
<tr class="memdesc:a190bc7d049ea3aaea0d1f50ff9f86f4b inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">The local size of the source vector v = local size of the <code><a class="el" href="structdg_1_1_m_p_i___vector.html" title="mpi Vector class">dg::MPI_Vector</a></code>.  <a href="structdg_1_1a_communicator.html#a190bc7d049ea3aaea0d1f50ff9f86f4b">More...</a><br /></td></tr>
<tr class="separator:a190bc7d049ea3aaea0d1f50ff9f86f4b inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6da46a52184be235645f0194f22cdd2 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#ab6da46a52184be235645f0194f22cdd2">isCommunicating</a> () const</td></tr>
<tr class="memdesc:ab6da46a52184be235645f0194f22cdd2 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the gather/scatter operation involves actual MPI communication.  <a href="structdg_1_1a_communicator.html#ab6da46a52184be235645f0194f22cdd2">More...</a><br /></td></tr>
<tr class="separator:ab6da46a52184be235645f0194f22cdd2 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc738661d96a4d926541c14fd28723c6 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#acc738661d96a4d926541c14fd28723c6">communicator</a> () const</td></tr>
<tr class="memdesc:acc738661d96a4d926541c14fd28723c6 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">The internal MPI communicator used.  <a href="structdg_1_1a_communicator.html#acc738661d96a4d926541c14fd28723c6">More...</a><br /></td></tr>
<tr class="separator:acc738661d96a4d926541c14fd28723c6 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f287b55eb703e29f9f17fc128205ef inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structdg_1_1a_communicator.html">aCommunicator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a08f287b55eb703e29f9f17fc128205ef">clone</a> () const=0</td></tr>
<tr class="memdesc:a08f287b55eb703e29f9f17fc128205ef inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic copy method.  <a href="structdg_1_1a_communicator.html#a08f287b55eb703e29f9f17fc128205ef">More...</a><br /></td></tr>
<tr class="separator:a08f287b55eb703e29f9f17fc128205ef inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94374e74e4a9a7857f65de3a5e64ba37 inherit pub_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a94374e74e4a9a7857f65de3a5e64ba37">~aCommunicator</a> ()</td></tr>
<tr class="memdesc:a94374e74e4a9a7857f65de3a5e64ba37 inherit pub_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">vritual destructor  <a href="structdg_1_1a_communicator.html#a94374e74e4a9a7857f65de3a5e64ba37">More...</a><br /></td></tr>
<tr class="separator:a94374e74e4a9a7857f65de3a5e64ba37 inherit pub_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_structdg_1_1a_communicator"><td colspan="2" onclick="javascript:toggleInherit('pub_types_structdg_1_1a_communicator')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="structdg_1_1a_communicator.html">dg::aCommunicator&lt; Vector &gt;</a></td></tr>
<tr class="memitem:a6b3761c8938941ad409b0e5ae8f396ba inherit pub_types_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a6b3761c8938941ad409b0e5ae8f396ba">value_type</a> = <a class="el" href="group__dispatch.html#ga6cca187a5557469a96917dc4687a22d3">get_value_type</a>&lt; Vector &gt;</td></tr>
<tr class="memdesc:a6b3761c8938941ad409b0e5ae8f396ba inherit pub_types_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">reveal value type  <a href="structdg_1_1a_communicator.html#a6b3761c8938941ad409b0e5ae8f396ba">More...</a><br /></td></tr>
<tr class="separator:a6b3761c8938941ad409b0e5ae8f396ba inherit pub_types_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edbb00e9845d00160d9aa75c9bd80da inherit pub_types_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a5edbb00e9845d00160d9aa75c9bd80da">container_type</a> = Vector</td></tr>
<tr class="memdesc:a5edbb00e9845d00160d9aa75c9bd80da inherit pub_types_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">reveal local container type  <a href="structdg_1_1a_communicator.html#a5edbb00e9845d00160d9aa75c9bd80da">More...</a><br /></td></tr>
<tr class="separator:a5edbb00e9845d00160d9aa75c9bd80da inherit pub_types_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_structdg_1_1a_communicator"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_structdg_1_1a_communicator')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="structdg_1_1a_communicator.html">dg::aCommunicator&lt; Vector &gt;</a></td></tr>
<tr class="memitem:af7d649518836cb8d29e7abbeb530abc9 inherit pro_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#af7d649518836cb8d29e7abbeb530abc9">aCommunicator</a> (unsigned <a class="el" href="structdg_1_1a_communicator.html#a190bc7d049ea3aaea0d1f50ff9f86f4b">local_size</a>=0)</td></tr>
<tr class="memdesc:af7d649518836cb8d29e7abbeb530abc9 inherit pro_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">only derived classes can construct  <a href="structdg_1_1a_communicator.html#af7d649518836cb8d29e7abbeb530abc9">More...</a><br /></td></tr>
<tr class="separator:af7d649518836cb8d29e7abbeb530abc9 inherit pro_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2861411ab00b8988436cf0259edbbc1b inherit pro_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a2861411ab00b8988436cf0259edbbc1b">aCommunicator</a> (const <a class="el" href="structdg_1_1a_communicator.html">aCommunicator</a> &amp;src)</td></tr>
<tr class="memdesc:a2861411ab00b8988436cf0259edbbc1b inherit pro_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">only derived classes can copy  <a href="structdg_1_1a_communicator.html#a2861411ab00b8988436cf0259edbbc1b">More...</a><br /></td></tr>
<tr class="separator:a2861411ab00b8988436cf0259edbbc1b inherit pro_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c1f30816b849bd1ee455ab174e1e3a inherit pro_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdg_1_1a_communicator.html">aCommunicator</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#ac3c1f30816b849bd1ee455ab174e1e3a">operator=</a> (const <a class="el" href="structdg_1_1a_communicator.html">aCommunicator</a> &amp;src)</td></tr>
<tr class="memdesc:ac3c1f30816b849bd1ee455ab174e1e3a inherit pro_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">only derived classes can assign  <a href="structdg_1_1a_communicator.html#ac3c1f30816b849bd1ee455ab174e1e3a">More...</a><br /></td></tr>
<tr class="separator:ac3c1f30816b849bd1ee455ab174e1e3a inherit pro_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcacc78e5bdce668b052adf1a9e1169 inherit pro_methods_structdg_1_1a_communicator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdg_1_1a_communicator.html#a8bcacc78e5bdce668b052adf1a9e1169">set_local_size</a> (unsigned new_size)</td></tr>
<tr class="memdesc:a8bcacc78e5bdce668b052adf1a9e1169 inherit pro_methods_structdg_1_1a_communicator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the local size of the source vector v.  <a href="structdg_1_1a_communicator.html#a8bcacc78e5bdce668b052adf1a9e1169">More...</a><br /></td></tr>
<tr class="separator:a8bcacc78e5bdce668b052adf1a9e1169 inherit pro_methods_structdg_1_1a_communicator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Index, class Vector&gt;<br />
struct dg::GeneralComm&lt; Index, Vector &gt;</h3>

<p>Perform general gather and its transpose (scatter) operation across processes on distributed vectors using mpi. </p>
<p>This Communicator can perform general global gather and scatter operations. In general the gather map idx[i] might or might not map an element of the source vector v. This means that the scatter matrix S can have one or more empty lines. (see <code><a class="el" href="structdg_1_1a_communicator.html" title="Struct that performs collective scatter and gather operations across processes on distributed vectors...">aCommunicator</a></code> for more details) Compared to <code><a class="el" href="structdg_1_1_surjective_comm.html" title="Perform surjective gather and its transpose (scatter) operation across processes on distributed vecto...">SurjectiveComm</a></code> the <code>global_scatter_reduce</code> function needs to perform an additional scatter as some elements of the source vector might be left empty </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index</td><td>an integer thrust Vector </td></tr>
    <tr><td class="paramname">Vector</td><td>a thrust Vector </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acfa98a579feb3617ba5d532af58c3f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa98a579feb3617ba5d532af58c3f8f">&#9670;&nbsp;</a></span>GeneralComm() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::<a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>no memory allocation; size 0 </p>

</div>
</div>
<a id="a91664bd2c22f4c02bfe53d080a85302c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91664bd2c22f4c02bfe53d080a85302c">&#9670;&nbsp;</a></span>GeneralComm() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::<a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>local_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const thrust::host_vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>localGatherMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const thrust::host_vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>pidGatherMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct from local indices and PIDs gather map. </p>
<p>The indices in the gather map are written with respect to the buffer vector. Each location in the source vector is uniquely specified by a local vector index and the process rank. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">local_size</td><td>local size of a <code><a class="el" href="structdg_1_1_m_p_i___vector.html" title="mpi Vector class">dg::MPI_Vector</a></code> (same for all processes) </td></tr>
    <tr><td class="paramname">localGatherMap</td><td>Each element <code>localGatherMap</code>[i] represents a local vector index from where to gather the value. There are "local buffer size" elements. </td></tr>
    <tr><td class="paramname">pidGatherMap</td><td>Each element <code>pidGatherMap</code>[i] represents the pid/rank from where to gather the corresponding local index <code>localGatherMap</code>[i]. Same size as localGatherMap. The pid/rank needs to be element of the given communicator. </td></tr>
    <tr><td class="paramname">comm</td><td>The MPI communicator participating in the scatter/gather operations </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af818e3e49946b3eab5a26b0c51f42485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af818e3e49946b3eab5a26b0c51f42485">&#9670;&nbsp;</a></span>GeneralComm() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<div class="memtemplate">
template&lt;class OtherIndex , class OtherVector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::<a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a>&lt; OtherIndex, OtherVector &gt; &amp;&#160;</td>
          <td class="paramname"><em>src</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reconstruct from another type; if src is empty, same as default constructor </p>

</div>
</div>
<a id="a0f1e0b2f8be42081cb0ab8a238ab9210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1e0b2f8be42081cb0ab8a238ab9210">&#9670;&nbsp;</a></span>GeneralComm() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<div class="memtemplate">
template&lt;class ConversionPolicy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::<a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a> </td>
          <td>(</td>
          <td class="paramtype">const thrust::host_vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>globalGatherMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ConversionPolicy &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct from global indices gather map. </p>
<p>Uses the <code>global2localIdx()</code> member of MPITopology to generate localGatherMap and pidGatherMap </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ConversionPolicy</td><td>has to have the members:<ul>
<li><code>bool<code>global2localIdx(unsigned,unsigned&amp;,unsigned&amp;)</code> <code>const</code>;</code> where the first parameter is the global index and the other two are the output pair (localIdx, rank). return true if successful, false if global index is not part of the grid</li>
<li><code>MPI_Comm</code> <code>communicator</code>() <code>const</code>; returns the communicator to use in the gather/scatter</li>
<li><code><a class="el" href="structdg_1_1a_communicator.html#a190bc7d049ea3aaea0d1f50ff9f86f4b" title="The local size of the source vector v = local size of the dg::MPI_Vector.">local_size()</a></code>; return the local vector size </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">globalGatherMap</td><td>Each element <code>globalGatherMap</code>[i] represents a global vector index from where to take the value. There are "local buffer size == size()" elements. </td></tr>
    <tr><td class="paramname">p</td><td>the conversion object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__basictopology.html">Topology base classes</a> the MPI grids defined in Level 3 can all be used as a ConversionPolicy </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a54756d7f20d5c5e4aacb4bd0f5f060df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54756d7f20d5c5e4aacb4bd0f5f060df">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a>* <a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">final</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4b970ce2c1d2f139e9856d10875ab6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b970ce2c1d2f139e9856d10875ab6a7">&#9670;&nbsp;</a></span>getLocalGatherMap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const thrust::host_vector&lt;int&gt;&amp; <a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::getLocalGatherMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>read access to the local index gather map </p>

</div>
</div>
<a id="a9e1c33b7e0fd56fc8de73e6d0c4390c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1c33b7e0fd56fc8de73e6d0c4390c1">&#9670;&nbsp;</a></span>getPidGatherMap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Index , class Vector &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const thrust::host_vector&lt;int&gt;&amp; <a class="el" href="structdg_1_1_general_comm.html">dg::GeneralComm</a>&lt; Index, Vector &gt;::getPidGatherMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>read access to the pid gather map </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>backend/<a class="el" href="mpi__collective_8h_source.html">mpi_collective.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedg.html">dg</a></li><li class="navelem"><a class="el" href="structdg_1_1_general_comm.html">GeneralComm</a></li>
    <li class="footer">Generated on Tue Feb 23 2021 15:27:09 for Discontinuous Galerkin Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
